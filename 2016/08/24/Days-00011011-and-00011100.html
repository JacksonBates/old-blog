<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Days 00011011 and 00011100</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://JacksonBates.github.io/blog/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:400,700,400italic,700italic|Open+Sans:400italic,700italic,700,400">
    <link rel="stylesheet" type="text/css" href="//JacksonBates.github.io/blog/themes/roon/assets/css/screen.css?v=1472134460674" />

    <link rel="canonical" href="https://JacksonBates.github.io/blog/2016/08/24/Days-00011011-and-00011100.html" />
    <meta name="referrer" content="origin" />
    
    <meta property="og:site_name" content="Adventures in Code" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Days 00011011 and 00011100" />
    <meta property="og:description" content="Work on the Voting app is roaring along! Implementing passwordless authentication has not been without its issues, but mainly due to token delivery. I&amp;#8217;m using emailjs to handle the emails, and I spent several hours last night and then again today trying to troubleshoot it. Firstly, I was" />
    <meta property="og:url" content="https://JacksonBates.github.io/blog/2016/08/24/Days-00011011-and-00011100.html" />
    <meta property="article:tag" content="emailjs" />
    <meta property="article:tag" content=" passwordless" />
    <meta property="article:tag" content=" chartjs" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Days 00011011 and 00011100" />
    <meta name="twitter:description" content="Work on the Voting app is roaring along! Implementing passwordless authentication has not been without its issues, but mainly due to token delivery. I&amp;#8217;m using emailjs to handle the emails, and I spent several hours last night and then again today trying to troubleshoot it. Firstly, I was" />
    <meta name="twitter:url" content="https://JacksonBates.github.io/blog/2016/08/24/Days-00011011-and-00011100.html" />
    
    <script type="application/ld+json">
null
    </script>

    <meta name="generator" content="HubPress" />
    <link rel="alternate" type="application/rss+xml" title="Adventures in Code" href="https://JacksonBates.github.io/blog/rss/" />
</head>
<body class="post-template tag-emailjs tag-passwordless tag-chartjs  noimage">

    


    <article role="main" class="">
        <header>
            <a href="https://JacksonBates.github.io/blog" id="home_link">Â«</a>
            <div class="meta"><time datetime="2016-08-24"><a href="https://JacksonBates.github.io/blog/2016/08/24/Days-00011011-and-00011100.html">August 24, 2016</a></time> <span class="count" id="js-reading-time"></span></div>
            <h1>Days 00011011 and 00011100</h1>
        </header>

        <div class="text" id="js-post-content">
            <div class="paragraph">
<p>Work on the Voting app is roaring along!</p>
</div>
<div class="paragraph">
<p>Implementing passwordless authentication has not been without its issues, but mainly due to token delivery. I&#8217;m using <code>emailjs</code> to handle the emails, and I spent several hours last night and then again today trying to troubleshoot it.</p>
</div>
<div class="paragraph">
<p>Firstly, I was having difficulties reading the email account password from environment variables. I tried both native environment variables (for Linux and Heroku) and the npm <code>dotenv</code> package to no avail. I didn&#8217;t want to have to hard-code my credentials into the files that would be sitting in a public git repo&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Secondly, Gmail did not like me using an unregistered app to send emails. It took me a long time to realise that. By the time someone mentioned that to me, I had already switched to Outlook.</p>
</div>
<div class="paragraph">
<p>I eventually got around the dotenv issues by coming up with fresh variable names, and I also suspect I had missing parentheses in my <code>require('dotenv').config()</code> call at the top of my <code>server.js</code>. And jumping from Gmail to Outlook made things much easier for me as well. Once again, Microsoft are the ones making the software that actually works and gets out of my way. To date, I have had the most luck with the Bing API, VS Code and now Outlook over their competitors. It should be noted, I would probably still be a huge Windows 10 fan, had I not irretrievably nerfed the boot loader and had to permanently migrate to Ubuntu!</p>
</div>
<div class="paragraph">
<p>After those hiccups, getting <code>passwordless</code> working was trivially easy by comparison, and I&#8217;ve had a lot of fun tinkering with <code>chartjs</code>. Incidentally, I had to install <code>browserify</code> and learn what it does in order to import <code>chartjs</code> on the client side, and it&#8217;s given me a small taste of Grunt / Gulp that I will probably get into more in the not-too-distant future. I had some fun little challenges to overcome with the charts, like how to ensure the varied length options / voteCount arrays would have the correct number of coloured bars in the chart. I solved that by making a random colour generator that determines the barchart colours on the fly. Pretty simple, but also the first thing I feel like I actually built to solve a problem recently, rather than just npm installing various packages and copy-pasting some quickstart snippets from their README.md to get stuff done.</p>
</div>
<div class="paragraph">
<p>Anyway, I&#8217;m pretty happy with my progress on the app so far. It&#8217;s taking shape well. The next step it to allow users to vote on the polls. The user story for the project says that unathenticated users should be allowed to vote - but I disagree, so I will be breaking that rule!</p>
</div>
        </div>

        <menu>
            <a href="" id="btn_share" class="btn" title="Share">
                <span aria-hidden="true" data-icon="S"></span>
                <strong>Share</strong>
            </a>
            <a href="http://twitter.com/share?text=Days%2000011011%20and%2000011100&url=https://JacksonBates.github.io/blog/2016/08/24/Days-00011011-and-00011100.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" id="btn_comment" class="btn" target="_blank">
                <span aria-hidden="true" data-icon="C"></span> Comment on Twitter
            </a>
        </menu>


        <footer class="post-footer" role="contentinfo">

            <div class="vcard">
                <!-- <a href="https://JacksonBates.github.io/blog/rss" id="btn_feed" class="btn" title="Feed" target="_blank">
                    <span aria-hidden="true" data-icon=")"></span>
                    <strong>Feed</strong>
                </a> -->

                <a href="https://JacksonBates.github.io/blog/author/JacksonBates/" class="photo">
                    <span style="background-image: url('https://avatars.githubusercontent.com/u/4337740?v&#x3D;3');">
                        <img src="https://avatars.githubusercontent.com/u/4337740?v&#x3D;3" alt="Jackson Bates">
                    </span>
                </a>

                <div class="details">
                    <h4><a href="https://JacksonBates.github.io/blog/author/JacksonBates/" class="url n">Jackson Bates</a></h4>
                    Melbourne, Australia<br>
                    
                </div>
            </div>

            <div id="user_bio">
                <div class="inner">
                    
                </div>
            </div>

        </footer>




    <section class="post-comments">
      <div id="disqus_thread"></div>
      <script type="text/javascript">
      var disqus_shortname = 'jacksonbatesme'; // required: replace example with your forum shortname
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </section>


    </article>

    <div id="share_modal">
        <div class="wrap">
            <div class="inner">
                <header>
                    Share
                    <a href="" class="close" title="Close">&times;</a>
                </header>

                <div class="roon-share-links">
                    <a href="https://twitter.com/share" class="twitter-share-button" data-dnt="true">Tweet</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

                    <div id="fb-elems">
                        <div id="fb-root"></div>
                        <script>(function(d, s, id) {
                        var js, fjs = d.getElementsByTagName(s)[0];
                        if (d.getElementById(id)) return;
                        js = d.createElement(s); js.id = id;
                        js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=463438580397968";
                        fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));</script>
                        <div class="fb-like" data-send="false" data-layout="button_count" data-width="110" data-show-faces="false" data-font="arial"></div>
                    </div>

                    <div id="pinit-btn">
                        <a href="//pinterest.com/pin/create/button/?url=https://JacksonBates.github.io/blog/2016/08/24/Days-00011011-and-00011100.html&amp;description=Days%2000011011%20and%2000011100-Adventures%20in%20Code " data-pin-do="buttonPin" data-pin-config="beside"><img src="//assets.pinterest.com/images/pidgets/pin_it_button.png"></a>
                        <script type="text/javascript" src="//assets.pinterest.com/js/pinit.js"></script>
                    </div>
                </div>
            </div>
        </div>
    </div>






    <script>

            function get_text(el) {
                ret = "";
                var length = el.childNodes.length;
                for(var i = 0; i < length; i++) {
                    var node = el.childNodes[i];
                    if(node.nodeType != 8) {
                        ret += node.nodeType != 1 ? node.nodeValue : get_text(node);
                    }
                }
                return ret;
            }
            function reading_time () {
                var post_content = document.getElementById('js-post-content');
                if (post_content) {
                    var words = get_text(post_content),
                        count = words.split(/\s+/).length,
                        read_time = Math.ceil((count / 150)),
                        read_time_node = document.createTextNode(read_time + ' min read');
                    document.getElementById('js-reading-time').appendChild(read_time_node);
                }
            }

        function no_schema_links () {
            var links = document.querySelectorAll('.js-remove-domain-schema');
            if (links) {
                for (i = 0; i < links.length; ++i) {
                    var link = links[i],
                        text = link.innerHTML,
                        no_schema = text.replace(/.*?:\/\//g, "");
                    link.innerHTML = no_schema;
                }
            }
        }

        window.onload = function () {
            no_schema_links();

            reading_time();
        }
    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();
      </script>

        <script>
            $(function(){
                var share_modal = $("#share_modal"),
                    update_social_links = true;

                $("#btn_share").click(function(){
                    var that = $(this);
                    share_modal.fadeIn(200);
                    return false;
                });

                share_modal.click(function(e){
                    if (e.target.className == "wrap" || e.target.id == "share_modal") {
                        share_modal.fadeOut(200);
                    }
                    return false;
                });

                share_modal.find("div.inner > header > a.close").click(function(){
                    share_modal.fadeOut(200);
                    return false;
                });
            });
        </script>


    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-80704400-1', 'auto');
    ga('send', 'pageview');

    </script>

</body>
</html>
